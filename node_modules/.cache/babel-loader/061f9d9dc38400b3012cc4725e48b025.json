{"ast":null,"code":"// const fetch = require(\"node-fetch\");\nimport { v4 as uuidv4 } from \"uuid\";\nconst googleBaseURL = \"https://www.googleapis.com/customsearch/v1?\";\nexport const fetchImages = async (term, start, imagesToSearch, fileTypeOption) => {\n  let apiKey = process.env.API_KEY;\n  let engineID = process.env.ENGINE_ID;\n  let requestParams;\n  if (fileTypeOption !== \"any_image\") {\n    requestParams = \"key=\" + apiKey + \"&cx=\" + engineID + \"&q=\" + term + \"&start=\" + start + \"&num=\" + imagesToSearch + \"&searchType=image&fileType=\" + fileTypeOption;\n  } else {\n    requestParams = \"key=\" + apiKey + \"&cx=\" + engineID + \"&q=\" + term + \"&start=\" + start + \"&num=\" + imagesToSearch + \"&searchType=image\";\n  }\n  let urlToFetch = googleBaseURL + requestParams;\n  if (term === \"\") {\n    return;\n  }\n  try {\n    const response = await fetch(urlToFetch);\n    if (response.ok) {\n      const jsonResponse = await response.json();\n      const allImages = jsonResponse.items; //an array of objects with the image data\n      for (let i = 0; i < allImages.length; i++) {\n        allImages[i].id = uuidv4();\n      }\n      return allImages;\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n};","map":{"version":3,"names":["v4","uuidv4","googleBaseURL","fetchImages","term","start","imagesToSearch","fileTypeOption","apiKey","process","env","API_KEY","engineID","ENGINE_ID","requestParams","urlToFetch","response","fetch","ok","jsonResponse","json","allImages","items","i","length","id","error","console","log","message"],"sources":["C:/Users/danie/OneDrive/Desktop/Dasima Project/ultimate-dasima/src/api/googleSearch.js"],"sourcesContent":["// const fetch = require(\"node-fetch\");\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst googleBaseURL = \"https://www.googleapis.com/customsearch/v1?\";\r\n\r\n\r\nexport const fetchImages = async (term, start, imagesToSearch, fileTypeOption) => {\r\n    let apiKey = process.env.API_KEY;\r\n    let engineID = process.env.ENGINE_ID;\r\n    \r\n    let requestParams;\r\n    if (fileTypeOption !== \"any_image\") {\r\n        requestParams = \"key=\" + apiKey + \"&cx=\" + engineID + \"&q=\" + term + \"&start=\" + start + \r\n        \"&num=\" + imagesToSearch + \"&searchType=image&fileType=\" + fileTypeOption; \r\n    } else {\r\n        requestParams = \"key=\" + apiKey + \"&cx=\" + engineID + \"&q=\" + term + \"&start=\" + start + \r\n        \"&num=\" + imagesToSearch + \"&searchType=image\"; \r\n    }\r\n\r\n    let urlToFetch =  googleBaseURL + requestParams;\r\n    \r\n    if (term === \"\") {\r\n        return;\r\n    }\r\n\r\n    try {\r\n        const response = await fetch(urlToFetch);\r\n        if (response.ok) {\r\n            const jsonResponse = await response.json();\r\n            const allImages = jsonResponse.items; //an array of objects with the image data\r\n            for (let i = 0; i < allImages.length; i++) {\r\n                allImages[i].id = uuidv4();\r\n            }\r\n            return allImages;\r\n        }\r\n\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n}\r\n"],"mappings":"AAAA;AACA,SAASA,EAAE,IAAIC,MAAM,QAAQ,MAAM;AAEnC,MAAMC,aAAa,GAAG,6CAA6C;AAGnE,OAAO,MAAMC,WAAW,GAAG,OAAOC,IAAI,EAAEC,KAAK,EAAEC,cAAc,EAAEC,cAAc,KAAK;EAC9E,IAAIC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,OAAO;EAChC,IAAIC,QAAQ,GAAGH,OAAO,CAACC,GAAG,CAACG,SAAS;EAEpC,IAAIC,aAAa;EACjB,IAAIP,cAAc,KAAK,WAAW,EAAE;IAChCO,aAAa,GAAG,MAAM,GAAGN,MAAM,GAAG,MAAM,GAAGI,QAAQ,GAAG,KAAK,GAAGR,IAAI,GAAG,SAAS,GAAGC,KAAK,GACtF,OAAO,GAAGC,cAAc,GAAG,6BAA6B,GAAGC,cAAc;EAC7E,CAAC,MAAM;IACHO,aAAa,GAAG,MAAM,GAAGN,MAAM,GAAG,MAAM,GAAGI,QAAQ,GAAG,KAAK,GAAGR,IAAI,GAAG,SAAS,GAAGC,KAAK,GACtF,OAAO,GAAGC,cAAc,GAAG,mBAAmB;EAClD;EAEA,IAAIS,UAAU,GAAIb,aAAa,GAAGY,aAAa;EAE/C,IAAIV,IAAI,KAAK,EAAE,EAAE;IACb;EACJ;EAEA,IAAI;IACA,MAAMY,QAAQ,GAAG,MAAMC,KAAK,CAACF,UAAU,CAAC;IACxC,IAAIC,QAAQ,CAACE,EAAE,EAAE;MACb,MAAMC,YAAY,GAAG,MAAMH,QAAQ,CAACI,IAAI,EAAE;MAC1C,MAAMC,SAAS,GAAGF,YAAY,CAACG,KAAK,CAAC,CAAC;MACtC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,SAAS,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;QACvCF,SAAS,CAACE,CAAC,CAAC,CAACE,EAAE,GAAGxB,MAAM,EAAE;MAC9B;MACA,OAAOoB,SAAS;IACpB;EAEJ,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,OAAO,CAAC;EAC9B;AACJ,CAAC"},"metadata":{},"sourceType":"module"}